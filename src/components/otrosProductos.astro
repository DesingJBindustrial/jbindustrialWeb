---
import CardProducto from "./mainPage/CardProducto.astro";


const { titulo,productos } = Astro.props;
---



<div class="productos-adicionales hiddenOculto" id={`productosAdicionales-${titulo}`}>
    <h2 class="subTituloCategoria">Otros productos de {titulo}</h2>
    <div class="contenedor-tarjetas">
        {productos.map(product => (
            <CardProducto img={product.imagen} titulo={product.titulo} info={product}></CardProducto>
        ))}
    </div>
    <button class="verMenos" data-value={titulo}>Ver menos</button>
</div>



<script>
const verMenosButtons = document.querySelectorAll('.verMenos');

verMenosButtons.forEach(boton => {
    boton.addEventListener('click', event => {
        const tituloBtn = boton.dataset.value 
        const contenedorProdutos = document.getElementById(`productosAdicionales-${tituloBtn}`)
        contenedorProdutos.classList.add("hiddenOculto");
        window.location.href="#cajaCategorias"
    })
})
</script>

<style>
.contenedor-tarjetas {
    display: flex;
    grid-template-columns: repeat(3, 1fr);
    /* gap: 16px; */
    /* margin-bottom: 20px; */
    flex-wrap: wrap;
}

.verMenos {
    background-color: #007bff;
    color: #fff;
    padding: 10px 15px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    /* display: flex; */
    margin-left: 87%;
    margin-bottom: 1%;
}

.verMenos:hover {
    background-color: #0056b3; /* Fondo más oscuro al hacer hover */
}

@media(max-width:730px){
    .verMenos {
    background-color: #007bff;
    color: #fff;
    padding: 10px 15px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    margin-left: 80%;
    margin-bottom: 1%;
    }
}

@media (max-width: 500px) {
    .contenedor-tarjetas {
    display: flex;
    grid-template-columns: repeat(3, 1fr);
    flex-wrap: wrap;
    flex-direction: column;
    align-content: stretch;
    }
    .verMenos{
    background-color: #007bff;
    color: #fff;
    padding: 6px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    margin-left: 43%;
    margin-bottom: 1%;
    width: 30%;
    }
    .verMenos:hover {
    background-color: #0056b3; /* Fondo más oscuro al hacer hover */
    }
    .productos-adicionales{
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    
}
</style>